{"version":3,"file":"parseEpub.js","sourceRoot":"","sources":["../src/parseEpub.ts"],"names":[],"mappings":"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"}